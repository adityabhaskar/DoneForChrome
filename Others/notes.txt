

https://twitter.com/intent/tweet?original_referer=http%3A%2F%2Fc306.net&text=Something%20about%20%23ChromeTabDeduplicator&url=http%3A%2F%2Fc306.net


http://www.iconarchive.com/show/oxygen-icons-by-oxygen-icons.org/Actions-tab-duplicate-icon.html

1. Insert a content-script to capture clicks on all <a> elements to check if the URL is already open. 
  - If already open, switch to that tab, preventDefault (or just show infobar allowing closing and switching?)
  - If not open, let default continue

2. When url loaded from omnibox (or external apps), use a content-script to check if the tab is a duplicate.
  - If a duplicate, close tab and switch to original tab (or just show infobar allowing closing and switching?)
  - If not open, let the tab load

3. Create a solution for instances when a tab is deliberately duplicated (browser button?)

4. Whitelist of URLs which are always allowed to duplicate

5. Option to keep old tab, or new tab


bgscript.js
-----------
  [DONE] Maintain a list of all tabs in all windows open.
  [DONE] Probably as [{'url','window-id','tab-id'}]
  [DONE] On updated, replaced, check new url against current tabs list before executing update/replace
  [NOT NEEDED] Expose functions using which content scripts can get above list, and add/remove items to the list


browserbutton
-------------
  [DONE] Open a popup with three options:
    Open a duplicate of the current tab
      Add a hash to the url with 'dup'+math.random to ensure it opens
    [DONE] Open options/settings page
    [DONE] Disable / Enable deDuplication





[NOT NEEDED]  testOnLoad.js
  -------------
[NOT NEEDED]    Retrieve the tabs-urls list from bgscript
[NOT NEEDED]    Check if current url is on that list
[NOT NEEDED]      If url already open, 
[NOT NEEDED]        close the new tab
[NOT NEEDED]        If new url was open in focussed tab, switch to originally open tab
[NOT NEEDED]        If new url was opened in unfocused tab, highlight the originally open tab


[NOT NEEDED]  manageLinks.js
  --------------
[NOT NEEDED]    Retrieve the tabs-urls list from bgscript
[NOT NEEDED]      Add the current page url to tabs-urls list, send updated list for saving to bgscript.
[NOT NEEDED]    Add a handler to click on all <a> tags
[NOT NEEDED]    If linked url in an <a> is already open, 
[NOT NEEDED]      show a [duplicate-icon] next to the url, 
[NOT NEEDED]      switch to open tab on clicking the url



startState = ON -- default
           = OFF -- if often used on public networks that redirect to login screens

Provide a restore lost tabs button (restores tabs that were open on startup but were closed thence) [if used often, change startState to OFF]

